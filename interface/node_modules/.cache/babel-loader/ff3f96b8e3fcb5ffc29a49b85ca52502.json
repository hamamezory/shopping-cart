{"ast":null,"code":"import\"./CartScreen.css\";import{useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{Link}from\"react-router-dom\";// Components\nimport CartItem from\"../components/CartItem\";// Actions\nimport{addToCart,removeFromCart}from\"../redux/actions/cartActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CartScreen=function CartScreen(){var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;useEffect(function(){},[]);var qtyChangeHandler=function qtyChangeHandler(id,qty){dispatch(addToCart(id,qty));};var removeFromCartHandler=function removeFromCartHandler(id){dispatch(removeFromCart(id));};var getCartCount=function getCartCount(){return cartItems.reduce(function(qty,item){return Number(item.qty)+qty;},0);};var getCartSubTotal=function getCartSubTotal(){return cartItems.reduce(function(price,item){return price+item.price*item.qty;},0).toFixed(2);};// start add taxes\nvar getCarttax=function getCarttax(){return cartItems.reduce(function(price,item){return price+item.price*item.qty+item.price*0.05;},0).toFixed(2);};var getCartdiscount=function getCartdiscount(){return cartItems.reduce(function(price,item){return price+item.price*item.qty+item.price*0.05-item.price*0.02;},0).toFixed(2);};//end add taxes\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cartscreen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartscreen__left\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shopping Cart\"}),cartItems.length===0?/*#__PURE__*/_jsxs(\"div\",{children:[\"Your Cart Is Empty \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Back\"})]}):cartItems.map(function(item){return/*#__PURE__*/_jsx(CartItem,{item:item,qtyChangeHandler:qtyChangeHandler,removeHandler:removeFromCartHandler},item.product);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartscreen__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartscreen__info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Subtotal (\",getCartCount(),\") items\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",getCartSubTotal()]}),/*#__PURE__*/_jsx(\"p\",{children:\"Tax added by 5%\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total after taxes is = $\",getCarttax()]}),/*#__PURE__*/_jsx(\"p\",{children:\"Discount by 2%\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Total after discount is = $\",getCartdiscount()]})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:\"Proceed To Checkout\"})})]})]})});};export default CartScreen;","map":{"version":3,"sources":["C:/Users/hamam/desktop/Blackthorn-assessment/Shopping-cart/interface/src/screens/CartScreen.js"],"names":["useEffect","useSelector","useDispatch","Link","CartItem","addToCart","removeFromCart","CartScreen","dispatch","cart","state","cartItems","qtyChangeHandler","id","qty","removeFromCartHandler","getCartCount","reduce","item","Number","getCartSubTotal","price","toFixed","getCarttax","getCartdiscount","length","map","product"],"mappings":"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","sourcesContent":["import \"./CartScreen.css\";\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n// Components\nimport CartItem from \"../components/CartItem\";\n\n// Actions\nimport { addToCart, removeFromCart } from \"../redux/actions/cartActions\";\n\nconst CartScreen = () => {\n  const dispatch = useDispatch();\n\n  const cart = useSelector((state) => state.cart);\n  const { cartItems } = cart;\n\n  useEffect(() => {}, []);\n\n  const qtyChangeHandler = (id, qty) => {\n    dispatch(addToCart(id, qty));\n  };\n\n  const removeFromCartHandler = (id) => {\n    dispatch(removeFromCart(id));\n  };\n\n  const getCartCount = () => {\n    return cartItems.reduce((qty, item) => Number(item.qty) + qty, 0);\n  };\n\n  const getCartSubTotal = () => {\n    return cartItems\n      .reduce((price, item) => price + item.price * item.qty, 0)\n      .toFixed(2);\n  };\n\n  // start add taxes\n\n  const getCarttax = () => {\n    return cartItems\n      .reduce((price, item) => (price + item.price * item.qty) + (item.price * 0.05), 0)\n      .toFixed(2);\n  };\n  const getCartdiscount = () => {\n    return cartItems\n      .reduce((price, item) => ((price + item.price * item.qty) + (item.price * 0.05)) - (item.price * 0.02) , 0)\n      .toFixed(2);\n  };\n\n  //end add taxes\n\n  return (\n    <>\n      <div className=\"cartscreen\">\n        <div className=\"cartscreen__left\">\n          <h2>Shopping Cart</h2>\n\n          {cartItems.length === 0 ? (\n            <div>\n              Your Cart Is Empty <Link to=\"/\">Go Back</Link>\n            </div>\n          ) : (\n            cartItems.map((item) => (\n              <CartItem\n                key={item.product}\n                item={item}\n                qtyChangeHandler={qtyChangeHandler}\n                removeHandler={removeFromCartHandler}\n              />\n            ))\n          )}\n        </div>\n\n        <div className=\"cartscreen__right\">\n          <div className=\"cartscreen__info\">\n            <p>Subtotal ({getCartCount()}) items</p>\n            <p>${getCartSubTotal()}</p>\n            <p>Tax added by 5%</p>\n            <p>Total after taxes is = ${getCarttax()}</p>\n            <p>Discount by 2%</p>\n            <p><b>Total after discount is = ${getCartdiscount() }</b></p>\n          </div>\n          <div>\n            <button>Proceed To Checkout</button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CartScreen;\n"]},"metadata":{},"sourceType":"module"}